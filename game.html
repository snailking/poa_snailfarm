<!doctype html>
<html lang="en">
	<head>
		<!-- Required meta tags -->
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<!-- Title, Favicon -->
		<title>POA SnailFarm</title>
		<link rel="shortcut icon" href="favicon.png" type="image/x-icon">		
		<!-- CSS -->
		<link rel="stylesheet" type="text/css" href="theme_bootstrap.css">	
		<link rel="stylesheet" type="text/css" href="theme_poasnailfarm.css">		
	</head>
	
	<body class="tint">
		<!-- TITLE -->
		<div class="container" align="center">
			<a name="top"><img src="img/logo.png" class="img-title">
		</div>
		<div class="jumbotron" align="center">
				<h3>Your Favorite Ethereum Forest Adventure... now on POA Network!</h1>
				<a href="#quickstart"><img height="64" src="img/question_circle.png"></a> 
				<a href="https://blockscout.com/poa/core/address/0x13873fe7a0e2c82434fa7dcd3a08fbbd6ba00217/transactions" target="_blank"><img height="64" src="img/contract_circle.png"></a>
				<a href="https://discord.gg/JU8P4Ru" target="_blank"><img height="64" src="img/discord_circle.png"></a>
				<a href="https://twitter.com/EtherSnailFarm" target="_blank"><img height="64" src="img/twitter_circle.png"></a>
				<a href="https://medium.com/@thesnailking/snails-on-the-poa-network-fb75aa738587" target="_blank"><img height="64" src="img/medium_circle.png"></a>
				<a href="https://snailking.github.io/snailthrone" target="_blank"><img height="64" src="img/snailthrone_circle.png"></a>
				<a href="https://reddit.com/r/snailthrone" target="_blank"><img height="64" src="img/reddit_circle.png"></a>				
			</div>
		</div>
		<!-- ROUND INFO -->
		<div class="container">
			<div class="row">
				<div class="container-beige col-sm" align="left">	
					<h2>ROUND <span id="round">[undefined]</span></h2>
				</div>
				<div class="container-beige col-sm" align="center">
					<h2><span id="gameactive">Game Active?</span></h2>
				</div>
				<div class="container-beige col-sm" align="right">
					<h2>WIN <span id="roundpot">[undefined]</span> POA</h2>
				</div>
			</div>
		</div>
		<div class="container" align="center">
			<span id="playerstatus"><img height="64" src="img/snail.png"></span>
		</div>
		<div class="container black-shadow" align="center">
			<h1>REACH 1 MILLION SNAILS TO WIN THE POT</h1>
			<h3><span id="leader">?</span> currently leading with <span id="leadersnail">?</span> snails.</h3><br>
		</div>
		<!-- LEADERBOARD -->
		<div class="jumbotron">
			<h2 style="display: inline-block;">LEADERBOARD</h2> <img class="img-help" src="img/question_circle.png" onclick="showModal(leaderboard_modal)">
			<div class="container-beige leader-style">
				<h5><span id="leaderboard">Waiting for hatches...</span></h5>
			</div>
			<div class="row">
				<div class="col-sm" align="left">
					<h2 style="display: inline-block;">EVENTS</h2> <img class="img-help" src="img/question_circle.png" onclick="showModal(event_modal)">
				</div>
				<div class="col-sm" align="right">
					<button type="button" class="btn btn-success" onclick="runLog()">Get Past Events</button>
					<button type="button" class="btn btn-success" onclick="startLogging()">Toggle Refresh</button>
				</div>
			</div>
			<div class="container-beige">
				<div class="scroll-box" id="logboxscroll">
					<span id="eventlog">Use "Get Past Events" for a history of previous events. <br> Events should show up on their own, but you can toggle refresh if they don't.</span>
				</div>
			</div>
		</div>
		<!-- LEADERBOARD MODAL -->
		<div id="leaderboard_modal" class="modal">
			<div class="jumbotron modal-content">
				<h2 class="black-shadow">The leaderboard shows the top5 snail holders</h2><br>
				<div class="container-beige">
					<h5>You will see their snails, eggs, red eggs, and the boosts they own.</h5><br>
					<h5>Click on "Get Past Events" to start showing current leaders.</h5><br>
					<h5>Please note blockchain data can lag behind, but it should be roughly accurate within a couple minutes range.</h5>
				</div>
				<div class="container" align="center">
					<button type="button" class="btn btn-success" onclick="CloseModal()">Got it!</button>
				</div>
			</div>
		</div>
		<!-- EVENT MODAL -->
		<div id="event_modal" class="modal">
			<div class="jumbotron modal-content">
				<h2 class="black-shadow">Actions taken by any player will show in the event log</h2><br>
				<div class="container-beige">
					<h5>Events should start logging automatically.</h5><br>
					<h5>If nothing happens for a while, click on "Toggle Refresh".</h5><br>
					<h5>Please note blockchain data can lag behind, but it should be roughly accurate within a couple minutes range.</h5>
				</div>
				<div class="container" align="center">
					<button type="button" class="btn btn-success" onclick="CloseModal()">Got it!</button>
				</div>
			</div>
		</div>
		<!-- DOWNTIME MODAL -->
		<div id="downtimemodal" class="modal">
			<div class="jumbotron modal-content" align="center">
				<h2 class="black-shadow">The game is currently paused!</h2><br>
				<div class="container-beige">
					<h4><span id="leader2">?</span> won Round <span id="round2">?</span>. The next round will start in <span id="gameactive2">?</span>.</h4><br>
					<h5>During round downtime, you can buy Acorns, claim your Share and withdraw your Balance.</h5><br>
					<h5>Other actions are disabled.</h5><br>
				</div>
				<div class="container" align="center">
					<button type="button" class="btn btn-success" onclick="CloseModal()">Got it!</button>
				</div>
			</div>
		</div>
		<!-- WRONG ROUND MODAL -->
		<div id="wrongroundmodal" class="modal">
			<div class="jumbotron modal-content" align="center">
				<h2 class="black-shadow">You haven't joined this Round yet!</h2><br>
				<div class="container-beige">
					<h4>Join the current Round to play.</h4><br>
					<h5>You will receive Red Eggs according to your previous number of Snails.</h5><br>
					<h5>Your normal Eggs and Snails will be lost.</h5><br>
				</div>
				<div class="container" align="center">
					<button type="button" class="btn btn-lg btn-success" onclick="webJoinRound()">Join Round</button>
				</div>
			</div>
		</div>
		<!-- SNAILS -->
		<div class="jumbotron snail-img" align="center">
			<div class="row">
				<div class="col-sm" align="left">
					<h1 style="display: inline-block;">MY SNAILS</h1> <img class="img-help" src="img/question_circle.png" onclick="showModal(snail_modal)"> 
				</div>
				<div class="col-sm" align="right">
					<h1><span id="playersnail">[undefined]</span></h1>
				</div>
			</div><br>
			<div class="row black-shadow">
				<div class="col-sm" align="left">
					<h4>Hatch Boost: <span id="hatchboost">[undefined]</span>x</h4>
				</div>
				<div class="col-sm" align="right">
					<h4>Producing <span id="playerprod">[undefined]</span> eggs per hour</h4>
				</div>
			</div><br>
			<div class="row">
				<div class="col-sm">
					<img height="64" src="img/spider.png" id="spider_yes"><img height="64" src="img/spider_grey.png" id="spider_no">
				</div>
				<div class="col-sm">
					<img height="64" src="img/squirrel.png" id="squirrel_yes"><img height="64" src="img/squirrel_grey.png" id="squirrel_no">
				</div>
				<div class="col-sm">
					<img height="64" src="img/tadpole.png" id="tadpole_yes"><img height="64" src="img/tadpole_grey.png" id="tadpole_no">
				</div>
				<div class="col-sm">
					<img height="64" src="img/lettuce.png" id="lettuce_yes"><img height="64" src="img/lettuce_grey.png" id="lettuce_no">
				</div>
				<div class="col-sm">
					<img height="64" src="img/carrot.png" id="carrot_yes"><img height="64" src="img/carrot_grey.png" id="carrot_no">
				</div>
				<div class="col-sm">
					<img height="64" src="img/slug.png" id="slug_yes"><img height="64" src="img/slug_grey.png" id="slug_no">
				</div>
			</div>
		</div>
		<!-- SNAIL MODAL -->
		<div id="snail_modal" class="modal">
			<div class="jumbotron modal-content">
				<h2 class="black-shadow">Snails produce eggs continously</h2><br>
				<div class="container-beige">
					<h5>You start with 300 Snails. To win, reach 1 million Snails before anyone else!</h5><br>
					<h5>Your Hatch Boost determines the number of Snails you get per Egg.</h5><br>
					<h5>Hatch Boost of 4x = 4 Snails per Egg.</h5>
				</div>
				<div class="container" align="center">
					<button type="button" class="btn btn-success" onclick="CloseModal()">Got it!</button>
				</div>
			</div>
		</div>
		<!-- EGGS -->
		<div class="jumbotron egg-img" align="center">
			<div class="row">
				<div class="col-sm" align="left">
					<h1 style="display: inline-block;">MY EGGS</h1> <img class="img-help" src="img/question_circle.png" onclick="showModal(egg_modal)"> 
				</div>
				<div class="col-sm" align="right">
					<h1><span id="playeregg">[undefined]</span></h1>
				</div>
			</div><br>
			<div class="row black-shadow">
				<div class="col-sm" align="left">
					<h5>Hatch Eggs into <span id="hatchestimate">[undefined]</span> Snails</h5>
				</div>
				<div class="col-sm" align="right">
					<p>(Cost: <span id="hatchcost">?</span> POA) <button class="btn btn-success" onclick="webCheck(webHatchEgg)">HATCH</button></p>
				</div>
			</div>
			<div class="row black-shadow">
				<div class="col-sm" align="left">
					<h5>Sell Eggs for <span id="sellestimate">?</span> POA</h5>
				</div>
				<div class="col-sm" align="right">
					<p>(Maximum reward: <span id="maxsalereward">[undefined]</span>) <button class="btn btn-success" onclick="webCheck(webSellEgg)">SELL</button></p>
				</div>
			</div>
			<div class="row black-shadow">
				<div class="col-sm" align="left">
					<h5>Buy <span id="buyestimate">?</span> Eggs for <span id="fieldBuy2">?</span> POA <input type="text" id="fieldBuy" value="0.1" size="4">
				</div>
				<div class="col-sm" align="right">
					<p>(Maximum eggs in one buy: <span id="maxeggbuy">[undefined]</span>) <button class="btn btn-success" onclick="webCheck(webBuyEgg)">BUY</button></p>
				</div>
			</div>	
		</div>
		<!-- EGG MODAL -->
		<div id="egg_modal" class="modal">
			<div class="jumbotron modal-content">
				<h2 class="black-shadow">This is where the magic happens</h2><br>
				<div class="container-beige">
					<h5><b>Hatch your Eggs</b> for a small POA cost to get more Snails.</h5><br>
					<h5><b>Sell your Eggs</b> to the market and get POA in exchange.</h5>
					<h6>No more than 10% of market eggs can be sold at once, any extra is destroyed. Sell early, sell often!</h6><br>
					<h5><b>Buy Eggs</b> to get ahead.</h5>
					<h6>No more than 10% of market eggs can be bought at once. Any extra POA you spend is refunded to your player balance!</h5><br>
					<h5>The market rate depends of the POA in the eggpot and the number of eggs on the market.</h5><br>
					<h5>With many eggs on the market and little POA in the eggpot, eggs will be cheap. If there's a lot of POA in the eggpot but few eggs on the market, eggs will be costly.</h5><br>
					<h5>Keep an eye for the change in supply and demand during the round to find opportunities!</h5>
				</div>
				<div class="container" align="center">
					<button type="button" class="btn btn-success" onclick="CloseModal()">Got it!</button>
				</div>
			</div>
		</div>
		<!-- MARKET -->
		<div class="container">
			<div class="container-beige">
				<div class="row">
					<div class="col-sm" align="right">
						<h3><span id="eggpot">[undefined]</span> POA in the EggPot</h5>
					</div>
					<div class="col-sm" align="left">
						<h3><span id="marketegg">[undefined]</span> Eggs on the Market</h5>
					</div>
				</div>
			</div>
		</div>	
		<!-- REDS -->
		<div class="jumbotron red-img" align="center">
			<div class="row">
				<div class="col-sm" align="left">
					<h1 style="display: inline-block;">MY REDS</h1> <img class="img-help" src="img/question_circle.png" onclick="showModal(red_modal)"> 
				</div>
				<div class="col-sm" align="right">
					<h1><span id="playerred">[undefined]</span></h1>
				</div>
			</div><br>
			<div class="row black-shadow">
				<div class="col-sm" align="left">
					<h5>Grab the Red Harvest at a cost of <span id="harvestcost">[undefined]</span> POA</h5>
				</div>
				<div class="col-sm" align="right">
					<p>(Reward: 100 Red Eggs) <button class="btn btn-success" onclick="webCheck(webClaimRedHarvest)">GRAB</button></p>
				</div>
			</div>
			<div class="row black-shadow">
				<div class="col-sm" align="left">
					<h5>Hatch <span id="fieldRed2">?</span> Red Eggs and get <span id="redestimate">?</span> Snails <input type="text" id="fieldRed" value="0" size="4"></h5>
				</div>
				<div class="col-sm" align="right">
					<p>(Red Eggs hatch for free) <button class="btn btn-success" onclick="webCheck(webHatchRed)">HATCH</button></p>
				</div>
			</div>				
		</div>
		<!-- RED MODAL -->
		<div id="red_modal" class="modal">
			<div class="jumbotron modal-content">
				<h2 class="black-shadow">Red Eggs are like normal Eggs, except better</h2><br>
				<div class="container-beige">
					<h5>You can hatch Reds into Snails for free. Use your Reds to get the SquirrelDuke or the Lettuce as well.</h5><br>
					<h5>Your saved Reds persist from round to round. A good stack of Reds is a strong asset to get ahead!</h5><br>
					<h5>There's two ways to get Reds:</h5>
					<h5>- grab the Red Harvest.</h5> <h6>The Red Harvest is an automatic auction, selling 100 Reds at a consistently decreasing price. Once someone Grabs a Red Harvest, a new auction begins at the original price.</h5>
					<h5>- hatch as many Snails as you can!</h5> <h6>You will get as many Reds as the square root of your Snails when you join the next round.</h5>
				</div>
				<div class="container" align="center">
					<button type="button" class="btn btn-success" onclick="CloseModal()">Got it!</button>
				</div>
			</div>
		</div>
		<!-- REDS FOR NEXT ROUND -->
		<div class="container">
			<div class="container-beige" align="center">
				<h3>You will receive <span id="nextred">?</span> Reds next Round</h3>
			</div>
		</div>	
		<!-- FRIENDS -->
		<div class="jumbotron" align="center">
			<div class="row">
				<div class="col-sm">
					<h1 style="display: inline-block;">SPIDERQUEEN</h1> <img class="img-help" src="img/question_circle.png" onclick="showModal(spider_modal)"><br> 
					<img height="96" src="img/spider.png">
					<h5 class="black-shadow">Owned by <span id="spiderowner">[undefined]</span></h3><br>
					<button class="btn btn-success" onclick="webCheck(webBecomeSpiderQueen)">BECOME SPIDERQUEEN</button>
					<p>Requirement: <span id="spiderreq">[undefined]</span> Snails</p>
				</div>
				<div class="col-sm">
					<h1 style="display: inline-block;">SQUIRRELDUKE</h1> <img class="img-help" src="img/question_circle.png" onclick="showModal(squirrel_modal)"><br>
					<img height="96" src="img/squirrel.png">
					<h5 class="black-shadow">Owned by <span id="squirrelowner">[undefined]</span></h3><br>
					<button class="btn btn-success" onclick="webCheck(webBecomeSquirrelDuke)">BECOME SQUIRRELDUKE</button>
					<p>Requirement: <span id="squirrelreq">[undefined]</span> Reds</p>
				</div>
				<div class="col-sm">
					<h1 style="display: inline-block;">TADPOLE PRINCE</h1> <img class="img-help" src="img/question_circle.png" onclick="showModal(tadpole_modal)"><br>
					<img height="96" src="img/tadpole.png">
					<h5 class="black-shadow">Owned by <span id="tadpoleowner">[undefined]</span></h3><br>
					<button class="btn btn-success" onclick="webCheck(webBecomeTadpolePrince)">BECOME TADPOLEPRINCE</button>
					<p>Requirement: <span id="tadpolereq">[undefined]</span> POA </p>
					<input type="text" id="fieldPrince" size="4">
				</div>
			</div>
		</div>
		<!-- SPIDER MODAL -->
		<div id="spider_modal" class="modal">
			<div class="jumbotron modal-content">
				<h2 class="black-shadow">The SpiderQueen is a "Friend" Boosting your Hatch Size by 1</h2><br>
				<div class="container-beige">
					<h5>Only one player can hold the SpiderQueen.</h5><br>
					<h5>To get the Queen, you must sacrifice the number of Snails shown.</h5><br>
					<h5>This required sacrifice doubles with every claim! It resets at the beginning of a new round.</h5><br>
					<h5>Be wary: if you have unused Eggs from your Snails, you will lose some of them by claiming the Spiderqueen.</h5>
				</div>
				<div class="container" align="center">
					<button type="button" class="btn btn-success" onclick="CloseModal()">Got it!</button>
				</div>
			</div>
		</div>
		<!-- SQUIRREL MODAL -->
		<div id="squirrel_modal" class="modal">
			<div class="jumbotron modal-content">
				<h2 class="black-shadow">The SquirrelDuke is a "Friend" Boosting your Hatch Size by 1</h2><br>
				<div class="container-beige">
					<h5>Only one player can hold the SquirreDuke.</h5><br>
					<h5>To get the Duke, spend the number of Reds on display.</h5><br>
					<h5>The cost to get the Duke doubles with every claim! It resets at the beginning of a new round.</h5><br>
					<h5>Keep an eye on the leaderboard, and time your moves carefully: a player with a large stack of Reds could snatch it back right away.</h5>
				</div>
				<div class="container" align="center">
					<button type="button" class="btn btn-success" onclick="CloseModal()">Got it!</button>
				</div>
			</div>
		</div>
		<!-- TADPOLE MODAL -->
		<div id="tadpole_modal" class="modal">
			<div class="jumbotron modal-content">
				<h2 class="black-shadow">The TadpolePrince is a "Friend" Boosting your Hatch Size by 1</h2><br>
				<div class="container-beige">
					<h5>Only one player can hold the TadpolePrince.</h5><br>
					<h5>You must send at least as much POA as the requirement to get the Prince.</h5><br>
					<h5>Any extra POA is refunded to your ingame balance.</h5><br>
					<h5>If someone else takes the Tadpole from you, you get 110% of your spent POA back!</h5>
				</div>
				<div class="container" align="center">
					<button type="button" class="btn btn-success" onclick="CloseModal()">Got it!</button>
				</div>
			</div>
		</div>
		<!-- FOOD -->
		<div class="jumbotron" align="center">
			<div class="row">
				<div class="col-sm">
					<h1 style="display: inline-block;">LETTUCE</h1> <img class="img-help" src="img/question_circle.png" onclick="showModal(lettuce_modal)"><br>
					<img height="96" src="img/lettuce.png">
					<h5 class="black-shadow"><span id="haslettuce"></span></h3><br>
					<span id="nolettuce"><button class="btn btn-success" onclick="webCheck(webFindLettuce)">FIND LETTUCE</button>
					<p>Requirement: <span id="lettucereq">[undefined]</span> Reds</p></span>
					<span id="yeslettuce"><br><h5 class="black-shadow">Your Lettuce lasts for the round</h5></span>
				</div>
				<div class="col-sm">
					<h1 style="display: inline-block;">CARROT</h1> <img class="img-help" src="img/question_circle.png" onclick="showModal(carrot_modal)"><br>
					<img height="96" src="img/carrot.png">
					<h5 class="black-shadow"><span id="hascarrot"></span></h3><br>
					<span id="nocarrot"><button class="btn btn-success" onclick="webCheck(webFindCarrot)">FIND CARROT</button>
					<p>Requirement: <span id="carrotcost">?</span></p> POA</span>
					<span id="yescarrot"><br><h5 class="black-shadow">Your Carrot lasts for <span id="carrottime"></span></h5></span>
				</div>
				<div class="col-sm">
					<h1 style="display: inline-block;">SLUG</h1> <img class="img-help" src="img/question_circle.png" onclick="showModal(slug_modal)"><br>
					<img height="96" src="img/slug.png">
					<h5 class="black-shadow"><span id="hasslug"></span></h3><br>
					<span id="noslug"><button class="btn btn-success" onclick="webCheck(webFindSlug)">FIND SLUG</button>
					<p>Requirement: at least 100 000 Snails</p></span>
					<span id="yesslug"><br><h5 class="black-shadow">Your Slug remains yours, forever</span>
				</div>
			</div>
		</div>
		<!-- LETTUCE MODAL -->
		<div id="lettuce_modal" class="modal">
			<div class="jumbotron modal-content">
				<h2 class="black-shadow">The Lettuce is a "Food" Boost and adds 1 to your Hatch size</h2><br>
				<div class="container-beige">
					<h5>The Lettuce only lasts for one round.</h5><br>
					<h5>To get the Lettuce, spend the number of Reds shown.</h5><br>
					<h5>Note this number of Reds starts as a multiplier of the round, then decreases until a minimum of 20 Reds.</h5><br>
					<h5>Finding the Lettuce right away might help getting ahead, but waiting for other players to do it first can save you some Reds!</h5>
				</div>
				<div class="container" align="center">
					<button type="button" class="btn btn-success" onclick="CloseModal()">Got it!</button>
				</div>
			</div>
		</div>
		<!-- CARROT MODAL -->
		<div id="carrot_modal" class="modal">
			<div class="jumbotron modal-content">
				<h2 class="black-shadow">The Carrot is a "Food" Boost and adds 1 to your Hatch size</h2><br>
				<div class="container-beige">
					<h5>Carrots last for 3 rounds.</h5><br>
					<h5>To get the Carrot, spend the indicated POA amount.</h5><br>
					<h5>Carrot cost depends of the SnailPot. Hence, this cost can only increase through a round.</h5><br>
					<h5>If you plan to get the Carrot at all, it's best to get it as soon as you can.</h5>
				</div>
				<div class="container" align="center">
					<button type="button" class="btn btn-success" onclick="CloseModal()">Got it!</button>
				</div>
			</div>
		</div>
		<!-- SLUG MODAL -->
		<div id="slug_modal" class="modal">
			<div class="jumbotron modal-content">
				<h2 class="black-shadow">The Slug is a "Food" Boost and adds 1 to your Hatch size</h2><br>
				<div class="container-beige">
					<h5>(Is the Slug food for your Snails, or is it eating your Snails? Nobody knows.)</h5><br>
					<h5>The Slug is a <b>permanent</b> boost.</h5><br>
					<h5>To get the Slug, you must sacrifice at least 100 000 Snails.</h5><br> 
					<h5>This sacrifice will take ALL of your Snails, and all of the Eggs your Snails laid!</h5><br>
					<h5>However, if you bought Eggs from the market, these Eggs will remain.</h5>
				</div>
				<div class="container" align="center">
					<button type="button" class="btn btn-success" onclick="CloseModal()">I LOVE THE SLUG</button>
				</div>
			</div>
		</div>
		<!-- ACORNS -->
		<div class="jumbotron acorn-img" align="center">
			<div class="row">
				<div class="col-sm" align="left">
					<h1 style="display: inline-block;">MY BALANCE</h1> <img class="img-help" src="img/question_circle.png" onclick="showModal(acorn_modal)">
				</div>
				<div class="col-sm" align="right">
					<h1><span id="playerbalance">[undefined]</span> POA</h1>
				</div>
			</div><br>
			<div class="row black-shadow">
				<div class="col-sm" align="left">
					<h5>Transfer your balance to your wallet</h5>
				</div>
				<div class="col-sm" align="right">
					<p>(Remember to claim your share too) <button class="btn btn-success" onclick="webWithdrawBalance()">WITHDRAW</button></p>
				</div>
			</div>
			<div class="row black-shadow">
				<div class="col-sm" align="left">
					<h5>You own <span id="playeracorn">[undefined]</span> Acorns</h5>
				</div>
				<div class="col-sm" align="right">
					<p>(Unclaimed share: <span id="playershare">?</span> POA) <button class="btn btn-success" onclick="webClaimShare()">CLAIM</button></p>
				</div>
			</div>
			<div class="row black-shadow">
				<div class="col-sm" align="left">
					<h5>Fund Poatree with <span id="fieldTree2">?</span> POA to get <span id="treeestimate">?</span> Acorns <input type="text" id="fieldTree" value="0.01" size="4"></h5>
				</div>
				<div class="col-sm" align="right">
					<p>(Cost per acorn: <span id="acorncost">[undefined]</span>) <button class="btn btn-success" onclick="webFundTree()">FUND</button></p>
				</div>
			</div>
			<div class="col-sm black-shadow" align="center"><br>
				<h5>The Poatree has grown a total of <span id="maxacorn">[undefined]</span> Acorns</h5>
			</div>
		</div>
		<!-- ACORN MODAL -->
		<div id="acorn_modal" class="modal">
			<div class="jumbotron modal-content">
				<h2 class="black-shadow">All your rewards end in your ingame wallet</h2><br>
				<div class="container-beige">
					<h5>From here, you can withdraw your earned POA to your own POA wallet.</h5><br>
					<h5>Your rewards will never disappear. Your balance will safely wait for you to claim it for as long as you want.</h5><br>
					<h5>Funding the Poatree gives you Acorns in return.</h5><br> 
					<h5>Acorns entitle you to POA dividends. 20% of every transaction is shared amongst Acorn holders.</h5><br>
					<h5>While Acorns last forever, their cost decreases slightly with each round.</h5>
				</div>
				<div class="container" align="center">
					<button type="button" class="btn btn-success" onclick="CloseModal()">I LOVE THE SLUG</button>
				</div>
			</div>
		</div>
		<!-- CONTRACT BALANCE, SNAILPOT -->
		<div class="container">
			<div class="container-beige">
				<div class="row">
					<div class="col-sm" align="left">
						<h3>Contract balance: <span id="contractbalance">[undefined]</span> POA</h3>
					</div>
					<div class="col-sm" align="right">
						<h3>Snailpot: <span id="snailpot">[undefined]</span> POA</h3>
					</div>
				</div>
			</div>
		</div><br><br>
		<!-- HOW TO PLAY -->
		<div class="jumbotron">			
			<a name="quickstart"><h1>HOW TO PLAY</h2></a>
			<div class="container-beige">	<br>	
				<h5>1) Buy your Starting Snails to join the current round</h5><br>
				<h5>2) Your Snails lay Eggs. Hatch Eggs to have more Snails, or sell Eggs to the market for a profit!</h5><br>
				<h5>3) Get Boosts (Friends and Food) to multiply your hatch size. Each Boost is additive.</h5><br>
				<h5>4) Buy more Eggs from the market to make your nest bigger.</h5><br>
				<h5>5) Grab the Red Harvest to get Red Eggs. Red Eggs are free to hatch, and stay between rounds.</h5><br>
			</div>
			<div align="center">
				<h3>The first player to reach 1 million Snails wins the round!</h4>
				<button class="btn btn-success" onclick="showModal(gameinfo_modal)">MORE INFO</button>
			</div>
		</div><br>
		<div align="center">
					<a href="#top"><img height="48" src="img/arrow_circle.png"></a>
		</div>
		<!-- GAME INFO MODAL -->
		<div id="gameinfo_modal" class="modal">
			<div class="jumbotron modal-content">			
				<a name="quickstart"><h2 align="center">GAME INFO</h2></a>
				<div class="container-beige">		
					<p><b>SnailFarm</b> is an idlegame played in rounds. The goal is to be the first to reach <b>1 million Snails</b>. Once you hatch enough snails to get to that number, you win the round and receive the current pot.</p><br>
					<p>At the end of the round, <b>all Snails and Eggs are wiped</b>, including market Eggs, and the game starts anew 24 hours later.</p><br>
				</div>
				<div class="container-beige">
						<p>To get started, you must first buy starting Snails. This one-time transaction will allow you to play <b>every</b> round, which you can join for the same cost.</p><br>
						<p>Your Snails continuously <b>lay Eggs</b>, which you can hatch into even more Snails for a small POA cost. Each Egg can hatch into <b>more than one Snail</b>: the more Boosts you have, the more Snails per Egg.</p><br>
						<p>Eggs can be <b>bought and sold directly from the smart contract</b>. The price of Eggs <b>vary widely</b> based on the current supply of Eggs and the eggpot. If the eggpot has a lot of POA but the market holds very few Eggs, it's time to sell. On the contrary, if the eggpot has little POA but the market is filled with Eggs, it's a good opportunity to buy.</p><br>
				</div>
				<div class="container-beige">		
						<p>There is a special type of eggs: Red Eggs. Unlike normal Eggs and Snails, <b>Red Eggs carry over</b> from round to round. At the end of each round, players who didn't win receive <b>the square root of their Snails</b> in Red Eggs.</p><br>
						<p>During rounds, the Red Harvest is another way to get Red Eggs. The Red Harvest puts <b>100 Red Eggs</b> for auction at a POA price starting high and <b>decreasing with time</b>.</p><br>
				</div>
				<div class="container-beige">		
						<p>Hatch Boosts exist in two kinds: Food, and Friends. You can only hold one of each particular boost. Both kind of Boosts give the same increase in hatch size: <b>+1 boost = +1 snail</b> per egg.</p><br>
						<p>Food Boosts are <b>your own</b>. These boosts are Lettuce, Carrot and Slug. They cost a certain amount of resources, and last for a number of rounds before disappearing.</p><br>
						<p>Friend Boosts are competitive: <b>only one player can own a specific friend boost</b> at a time. These boosts are the SpiderQueen, the SquirrelDuke and the TadpolePrince. Each Friend flip <b>increases the requirement</b> to get that boost. It is possible for a single player to hold several different Friends at once.</p><br>
				</div>
				<div class="container-beige">		
						<p>Through the Poatree, players can <b>invest in the bankroll</b> of the game itself. Funding the Tree with POA gives a number of acorns in return. <b>20% of all POA spent</b> on the game is distributed between Acorn holders.</p><br>
						<p>Before the game starts for the first time, acorns are at <b>half price</b>. After that, their price go to full price, then lower slightly with every round. Like Red Eggs, <b>Acorns carry over between rounds</b>. Acorns cannot be sold. Funding the game means <b>receiving dividends eternally</b>, although the price decrease ensures a dilution of investor shares to encourage newcomers.</p><br>
				</div>
				<div class="container-beige">		
						<p>While the POA version of SnailFarm isn't part of it, a whole ecosystem of Ethereum Snail games exist. Amongst them is a master game called "SnailThrone", where holders are entitled to part of the ETH spent everywhere else. Check out SnailThrone if you want to know more: <a href="https://snailking.github.io/snailthrone/" target="_blank">https://snailking.github.io/snailthrone/</a></p><br>
				</div>
				<div class="container" align="center">
					<button type="button" class="btn btn-success" onclick="CloseModal()">Got it!</button>
					<button type="button" class="btn btn-success" onclick="closeThenShowModal(gamemechanics_modal)">Tell me more</button>
				</div>
			</div>
		</div>
		<!-- GAME MECHANICS MODAL -->
		<div id="gamemechanics_modal" class="modal">
			<div class="jumbotron modal-content">
				<h2 align="center">GAME MECHANICS</h2><br>
				<h3>ROUNDS</h3>
				<div class="container-beige">
					<p>The jackpot for a round amounts to 10% of the Snailpot. This percentage is set when the round is initialized, so it doesn't change thorough the round.</p>
					<p>Rounds have no time limit and last until a player reaches 1M snails.</p>
					<p>After a round is won, the game undergoes a 24h downtime as to give everyone a fair chance to be ready for the next start.</p>
					<p>Once the timer hits 0, any player can start the round by clicking the button that will appear right under game status.</p>
					<p>Players who want to join a new round also need to click a button that will appear at that same position and pay 0.05% of the SnailPot.</p>
				</div>
				<h3>SNAILS</h3>
				<div class="container-beige">
					<p>Players start with 300 Snails after buying their starting Snails. These starting Snails cost 0.1% of the SnailPot.</p>
					<p>Joining further rounds has the same POA cost.</p>
					<p>Snails lay Eggs at a rate of 1 per Snail per day. 300 Snails = 300 Eggs in 24 hours.</p>
					<p>Snails cannot produce more Eggs than their numbers. Hatch at least once a day, if you don't want to waste potential Eggs.</p>
					<p>Hatching costs 0.02% of the SnailPot. If the hatch transaction results in 1M snails or more, the player wins the round.</p>
					<p>Snail count is reset to 0 at the end of a round. Joining a new round will give players 300 Snails again.</p>
				</div>
				<h3>EGGS</h3>
				<div class="container-beige">
					<p>Eggs can be bought from the smart contract with the following formula: POA spent / (POA spent + eggpot) * marketegg</p>
					<p>This means there are diminishing returns, with smaller buys getting proportionally more eggs.</p>
					<p>No more than 10% of the Egg supply can be bought at once. If a player spends more than the maximum buy, this POA is refunded to the player balance.</p>
					<p>Eggs bought don't interfere with the maximum amount of Eggs Snails can lay. If you have 300 Snails and 100 Eggs (leaving you 200 potential Eggs) and buy 400 Eggs, your Snails can still lay 200 more Eggs, bringing you to a total of 700.</p>
					<p>Eggs can be sold to the smart contract with the following formula: POA = (eggs / marketeggs) * eggpot / 2</p>
					<p>Like with buying, there are diminishing returns. The less eggs sold, the more POA per eggs.</p>
					<p>Eggs are sold all at once, but no more than 1/10 of the supply can be sold at once. In a single sale, the maximum reward is 5% of the eggpot.</p>
					<p>Sell early and sell often!</p>
				</div>
				<h3>RED EGGS</h3>
				<div class="container-beige">
					<p>Once they join a new round, players receive 1 Red Egg for the square root of their Snails.</p>
					<p>(If you have 300 Snails at the end of a round, the square root of 300 is 17, and so you get 17 Reds.)</p>
					<p>Red Eggs can be hatched at no cost. However, their main utility is to claim various Boosts.</p>
					<p>Red Eggs benefit from Hatch Boosts the same way as normal Eggs.</p>
					<p>While Red Eggs cannot be sold, they can be bought through the Red Harvest. The Red Harvest puts 100 Red Eggs for sale, for 1/4th of the Round jackpot.</p>
					<p>This price then decreases all the way to a tenth of that cost, over a period of 1 hour. This price decrease is sharp at first, then slower. The exact formula is: basePrice - maximumPriceChange * squareRootTimeElapsed / squareRoot1Hour</p>
					<p>Once a player grabs a Red Harvest, another one immediately starts at the original price (1/4 round jackpot).</p>
				</div>
				<h3>FOOD</h3>
				<div class="container-beige">
					<p>The Lettuce lasts one round. Lettuces initially cost 20 Red Eggs * Round Number. This requirement then decreases by 20 for every Lettuce bought, down to a minimum of 20.</p>
					<p>Example: we're on Round 3, nobody has bought any Lettuce yet. The price of a Lettuce will be 20 * 3 = 60 Red Eggs. Once a player buys a Lettuce, the next Lettuce will cost 40 Red Eggs.</p>
					<p>The Carrot lasts three rounds. Carrots cost 0.5% of the SnailPot.</p>
					<p>The Slug is permanent. Slugs require a sacrifice of all the Snails the player own, and the minimum amount of Snails required is 100 000.</p>
					<p>The Slug should be seen as a longterm play, giving up on a round in order to gain a significant advantage in further rounds.</p>
				</div>
				<h3>FRIENDS</h3>
				<div class="container-beige">
					<p>The requirement for Friends increases with every flip, and resets at the beginning of each new round.</p>
					<p>The SpiderQueen costs 80 Snails. This requirement doubles with every flip.</p>
					<p>The SquirrelDuke costs 2 Red Eggs. This requirement doubles with every flip.</p>
					<p>The TadpolePrince costs 0.5% of the SnailPot. This requirement increases by 20% with every flip. On the next flip, the Tadpole owner will receive 110% of the POA he spent.</p>
					<p>Players can specify a higher amount of POA than strictly required, in order to ensure they get the Tadpole through several flips. Any POA over the requirement will be refunded to the player balance.</p>
				</div>
				<h3>ACORNS</h3>
				<div class="container-beige">
					<p>Acorn price is set at 0.01 POA, and decreases according to the following formula: 10/ (10 + Round)</p>
					<p>This means on Round 1, the price for 1 Acorn will be 0.01 * 10 / 11 ~= 0.00909 POA. On Round 10, the price for 1 Acorn will be 0.01 * 10 / 20 = 0.005 POA.</p>
					<p>Acorns cannot be sold. Acorn holders earn dividends forever. Being early is advantageous, however it is balanced by potential share dilution due to the decreasing cost.</p>
					<p>Round 0 offers Acorns at half price (0.005 POA), in order to incentivize an early bankroll funding.</p>
					<p>Acorn holders receive 20% of all POA spent on the game save for the Tadpole, twice as much as in the original SnailFarm!</p>
				</div>
				<h3>POT SPLIT</h3>
				<div class="container-beige">
					<p>Incoming POA of each transaction is distributed as follows:</p>
					<p>- 40% to the Snailpot</p>
					<p>- 40% to the Eggpot</p>
					<p>- 20% in dividends to Acorn holders</p>
				</div>
				<div class="container" align="center">
					<button type="button" class="btn btn-success" onclick="CloseModal()">I'm ready to win this thing!</button>
				</div>
			</div>
		</div>
		<!-- Bogus Modal -->
		<div id="questmodal"></div>
		<!-- Main Javascript -->
		<script src="poasnailfarm.js"></script>				
		<script>
			main()
		</script>
		
	</body>
</html>